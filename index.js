import{a as y,i as R}from"./assets/vendor-D4_GUFtp.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(e){if(e.ep)return;e.ep=!0;const o=s(e);fetch(e.href,o)}})();async function d(t,r){const s="81088765cb514a5b98c190ea1c6dabf9",o="https://newsapi.org/v2/everything",a={apiKey:s,q:t,language:"en",sortBy:"popularity",pageSize:10,page:r};return(await y.get(o,{params:a})).data}function L(t){const{urlToImage:r,title:s,publisherdAt:i,content:e}=t;return` <li class='card'>
      <img src="${r}" alt="${s}" class='img'/>
      <h2>${s}</h2>
      <h3>Date: ${i}</h3>
      <p>${e}</p>
    </li>`}function E(t){return t.map(L).join("")}const n={formREf:document.querySelector(".js-form"),galRef:document.querySelector(".js-gallery"),moreRef:document.querySelector(".more"),loaderRef:document.querySelector(".loader")};let l,c,u;n.formREf.addEventListener("submit",b);n.moreRef.addEventListener("click",v);async function b(t){if(t.preventDefault(),c=1,g(),l=t.target.elements.query.value.trim(),!l){f("No query!"),n.galRef.innerHTML="";return}try{const r=await d(l,c);r.totalResults===0&&f("Sorry! No news for this query found.Try another search."),u=Math.ceil(r.totalResults/10),n.galRef.innerHTML="",m(r.articles)}catch{f(message),u=0,n.formREf.reset(),n.galRef.innerHTML=""}h(),p()}async function v(t){t.preventDefault(),c+=1,g();const r=await d(l,c);m(r.articles),h(),p(),n.formREf.reset();const s=n.galRef.firstElementChild.getBoundingClientRect().height;scrollBy({behavior:"smooth",top:s*2})}function m(t){const r=E(t);n.galRef.insertAdjacentHTML("beforeend",r)}function w(){n.moreRef.classList.remove("hidden")}function N(){n.moreRef.classList.add("hidden")}function p(){c>=u?N():w()}function g(){n.loaderRef.classList.remove("hidden")}function h(){n.loaderRef.classList.add("hidden")}function f(t){R.error({title:"Error!",message:t,position:"center"})}
//# sourceMappingURL=index.js.map
